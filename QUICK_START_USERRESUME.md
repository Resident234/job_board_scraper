# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ UserResumeDetailScraper

## ‚úÖ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–í–∫–ª—é—á–µ–Ω:** UserResumeDetailScraper —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏  
**–û—Ç–∫–ª—é—á–µ–Ω—ã:** –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∞–ø–µ—Ä—ã

### üåê –ü—Ä–æ–∫—Å–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∫–ª—é—á–µ–Ω—ã  
**–†–µ–∂–∏–º:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤  
**–†–æ—Ç–∞—Ü–∏—è:** –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–∑—é–º–µ

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞:

```bash
psql -U postgres -c "SELECT 1 FROM pg_database WHERE datname='jobs'"
```

–ï—Å–ª–∏ –±–∞–∑–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞:

```bash
psql -U postgres -c "CREATE DATABASE jobs;"
```

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç—ã

–ï—Å–ª–∏ –µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

```bash
psql -U postgres -d jobs -f sql/create_resumes_table.sql
psql -U postgres -d jobs -f sql/create_user_skills_table.sql
psql -U postgres -d jobs -f sql/create_companies_table.sql
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
dotnet run --project JobBoardScraper
```

## üìä –ß—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å

UserResumeDetailScraper –±—É–¥–µ—Ç:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–∫—Å–∏** (–µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç):
   - –ò–∑ ProxyScrape API
   - –ò–∑ GeoNode API
   - –°–æ–∑–¥–∞—Ç—å –ø—É–ª –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏

2. **–ß–∏—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `habr_resumes`

3. **–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–π –ø—Ä–æ–∫—Å–∏
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—é–º–µ
   - –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç "–û —Å–µ–±–µ"
   - –ò–∑–≤–ª–µ—á—å —Å–ø–∏—Å–æ–∫ –Ω–∞–≤—ã–∫–æ–≤
   - –ò–∑–≤–ª–µ—á—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª:

```
[HttpClientFactory] –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ –ø—É—Å—Ç. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤...
[HttpClientFactory] ProxyScrape: –∑–∞–≥—Ä—É–∂–µ–Ω–æ 50 –ø—Ä–æ–∫—Å–∏
[HttpClientFactory] GeoNode: –∑–∞–≥—Ä—É–∂–µ–Ω–æ 100 –ø—Ä–æ–∫—Å–∏
[HttpClientFactory] ‚úì –ó–∞–≥—Ä—É–∂–µ–Ω–æ 100 –ø—Ä–æ–∫—Å–∏
[Program] UserResumeDetailScraper: –í–ö–õ–Æ–ß–ï–ù
[Program] UserResumeDetailScraper: –ü—Ä–æ–∫—Å–∏ –í–ö–õ–Æ–ß–ï–ù–´ (100 —Å–µ—Ä–≤–µ—Ä–æ–≤)
[Program] UserResumeDetailScraper: –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
[UserResumeDetailScraper] –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...
[UserResumeDetailScraper] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: username
[UserResumeDetailScraper] –ù–∞–π–¥–µ–Ω–æ –Ω–∞–≤—ã–∫–æ–≤: 15
[UserResumeDetailScraper] –ù–∞–π–¥–µ–Ω–æ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã: 3
[UserResumeDetailScraper] –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º –≤—ã–≤–æ–¥–∞

–í `App.config`:

```xml
<!-- Both = –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª, ConsoleOnly = —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å–æ–ª—å, FileOnly = —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª -->
<add key="UserResumeDetail:OutputMode" value="Both" />
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞–π–º–∞—É—Ç

```xml
<add key="UserResumeDetail:TimeoutSeconds" value="60" />
```

### –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å retry

```xml
<add key="UserResumeDetail:EnableRetry" value="true" />
```

### –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞

```xml
<add key="UserResumeDetail:EnableTrafficMeasuring" value="true" />
```

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìà –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ä–µ–∑—é–º–µ

```sql
SELECT COUNT(*) FROM habr_resumes WHERE about IS NOT NULL;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤—ã–∫–∏

```sql
SELECT COUNT(*) FROM habr_user_skills;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã

```sql
SELECT COUNT(*) FROM habr_user_experience;
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ä–µ–∑—é–º–µ

```sql
SELECT username, about, updated_at 
FROM habr_resumes 
WHERE about IS NOT NULL 
ORDER BY updated_at DESC 
LIMIT 10;
```

## üîÑ –í–∫–ª—é—á–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∞–ø–µ—Ä—ã

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∞–ø–µ—Ä—ã, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `App.config`:

```xml
<!-- –í–∫–ª—é—á–∏—Ç—å UserProfileScraper -->
<add key="UserProfile:Enabled" value="true" />

<!-- –í–∫–ª—é—á–∏—Ç—å CompanyDetailScraper -->
<add key="CompanyDetail:Enabled" value="true" />
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [USER_RESUME_DETAIL_SCRAPER.md](docs/USER_RESUME_DETAIL_SCRAPER.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [USERRESUME_WITH_PROXY.md](docs/USERRESUME_WITH_PROXY.md) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–∫—Å–∏
- [CURRENT_CONFIG.md](CURRENT_CONFIG.md) - –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [App.config](JobBoardScraper/App.config) - –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [PROXY_SERVICES.md](docs/PROXY_SERVICES.md) - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å—ã

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `habr_resumes` –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –≤ `App.config`
- –°–∫—Ä–∞–ø–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å `public = true`

## üÜò –ü—Ä–æ–±–ª–µ–º—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `App.config`:

```xml
<add key="Database:ConnectionString" value="Server=localhost:5432;User Id=postgres;Password=admin;Database=jobs;" />
```

### –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∞–ø–µ—Ä—ã –¥–ª—è —Å–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```xml
<add key="ResumeList:Enabled" value="true" />
<add key="UserProfile:Enabled" value="true" />
```

### –û—à–∏–±–∫–∏ HTTP

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ career.habr.com –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è).
